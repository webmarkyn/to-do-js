!function(t){var e={};function o(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=0)}([function(t,e,o){"use strict";o.r(e);class n{constructor(t,e){this._id=t,this._name=e,this._todos=[]}getId(){return this._id}getName(){return this._name}getTodos(){return[...this._todos]}getTodo(t){return this._todos[t]}setTodos(t){this._todos=t}addTodo(t){const e=this.getTodos();e.push(t),this.setTodos(e)}removeTodo(t){const e=this.getTodos();e.splice(t,1),this.setTodos(e)}updateTodo(t,e){const o=this.getTodos();o[t]=e,this.setTodos(o)}}const r=()=>document.getElementById("projectList"),s=t=>{const e=document.getElementById("todoList"),o=t.getTodos();e.innerHTML="",o.length?(console.log(t.getTodos()),t.getTodos().forEach(t=>{console.log("hehe")})):e.innerText="No tasks to complete in project "+t.getName()},i=t=>{const e=document.createElement("li"),o=document.createElement("button"),n=document.createElement("button");return e.innerText=t.getName(),e.id=t.getId(),e.appendChild(n),e.appendChild(o),n.innerText="Show Tasks",n.addEventListener("click",()=>{p(t),s(m())}),o.innerText="X",o.addEventListener("click",()=>{h(e.id),e.parentElement.removeChild(e),location.reload()}),e};class d{constructor(t,e,o,n="",r=null,s){this._id=t,this._projectId=e,this._name=o,this._description=n,this._state=!1,this._priority=r,this._date=s}getId(){return this._id}getProjectId(){return this._projectId}getName(){return this._name}updateName(t){this._name=t}getPriority(){return this._priority}updatePriority(t){this._priority=t}getDate(){return this._date}updateDate(t){this._date=t}getDescription(){return this._description}updateState(){this._state=!this._state}getState(){return this._state}updateDescription(t){this._description=t}}const c=t=>{localStorage.setItem("projects",JSON.stringify(t))},l=()=>{const t=localStorage.getItem("projects");return null!==t&&JSON.parse(t).length>0},a=()=>{if(l()){const t=[];return JSON.parse(localStorage.getItem("projects")).forEach(e=>{const o=new n(e._id,e._name);if(e._todos.length){let t=[];e._todos.forEach(o=>{t.push(new d(o._id,e._id,o._name,o._description,o._priority,o._date))}),o.setTodos(t)}t.push(o)}),t}return null};let u="";const m=()=>u,p=t=>{u=t},g=(t=0,e="My first Project")=>{const o=new n(t,e),s=a()||[];s.push(o),r().appendChild(i(o)),c(s),p(o)},h=t=>{let e=a()||[];const o=((t,e)=>{let o;return t[0].constructor===n&&(o=t.findIndex(t=>t.getId()===parseInt(e))),o})(e,t);1===e.length?e=[]:e[o]&&e.splice(o,1),c(e)};l()&&a();const _=r(),f=document.getElementById("newProjectBtn"),y=document.getElementById("newTodoBtn");l()?(a().forEach(t=>{_.appendChild(i(t))}),p(a()[0]),s(m())):(g(),p(a()[0]),s(m())),f.addEventListener("click",()=>{const t=(()=>{const t=document.getElementById("newProjectInput"),e=t.value;return t.value="",e||(alert("Name can't be blank"),!1)})(),e=(()=>{if(!l())return-1;const t=a();return t[t.length-1].getId()})()+1;t&&g(e,t)}),y.addEventListener("click",()=>{console.log((()=>{const t=document.getElementById("todoName").value;return t||(alert("Name can't be blank"),!1)})()),console.log((()=>{const t=document.getElementById("todoDescription").value;return t||(alert("Description can't be blank"),!1)})()),console.log((()=>{const t=document.getElementById("todoPriority").value;return t||(alert("Priority must be selected"),!1)})()),console.log((()=>{const t=document.getElementById("todoDate").value;return t||(alert("Date can't be blank"),!1)})()),document.getElementById("todoName").value="",document.getElementById("todoDescription").value="",document.getElementById("todoPriority").selectedIndex=0,document.getElementById("todoDate").value=""})}]);